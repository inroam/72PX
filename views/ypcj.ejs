<%- include header  %>
<div id="ypcj" class="container-fluid">
    <div class="row">
        <!----------------约拍场景排行榜 开始----------------------->
        <div id="ypcjTop" class="col-lg-2">
            <div><a href="javascript:void(0)" title="<%= ypcjs.name %>"><img src="images/topBg.jpg" class="img-responsive"></a></div>
            <div class="items">
                <ul>
                    <% ypcjs.data.forEach(function(ypcj, index){ %>
                    <li class="clearfix <%= index %>">
                        <a href="ypcj?id=<%= ypcj.id %>" class="pull-left"><img src="<%= ypcj.cover %>" class="img-responsive" /></a>
                        <div class="info pull-left">
                            <h4><%= ypcj.name %></h4>
                            <p class="hits">约拍指数：<%= ypcj.hits %></p>
                            <p class="mark">注意事项：<%= ypcj.mark %></p>
                        </div>
                    </li>
                    <% }) %>
                </ul>
            </div>
        </div>
        <!----------------约拍场景排行榜 结束----------------------->
        <!----------------约拍场景地图 开始----------------------->
        <div id="ypcjMap" class="col-lg-10"></div>
        <!----------------约拍场景地图 结束----------------------->
    </div>
</div>
<script src="http://api.map.baidu.com/api?v=2.0&ak=8ft7ZgDwrktuzixGhGLajPZAfmiVdTm1"></script>
<script>
    var map = new BMap.Map("ypcjMap");          // 创建地图实例
    var point = new BMap.Point(116.331398,39.897445);  // 创建点坐标
    map.addControl(new BMap.NavigationControl());               // 添加平移缩放控件
    map.addControl(new BMap.ScaleControl());                    // 添加比例尺控件
    map.addControl(new BMap.OverviewMapControl());              //添加缩略地图控件
    map.enableScrollWheelZoom();                            //启用滚轮放大缩小
    map.addControl(new BMap.MapTypeControl());          //添加地图类型控件
    map.disable3DBuilding();
    map.setMapStyle({style:"grayscale"});    //设置地图模板为高端灰
    map.centerAndZoom(point, 14);   //设置地图中心点


    /* 根据IP定位中心点*/
    function myFun(result){
        var cityName = result.name;
        map.setCenter(cityName);
    }
    var myCity = new BMap.LocalCity();
    myCity.get(myFun);
</script>
<%- include footer %>